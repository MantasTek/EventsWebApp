@using EventsWebApp.Models.ViewModels
@using EventsWebApp.ViewModels
@model EventCardViewModel

<div class="event-card">
    <div class="event-card-image">
        <img src="/images/event-placeholder.jpg" alt="@Model.EventName" />
        <span class="event-card-badge">@Model.EventCategory</span>
    </div>
    <div class="event-card-content">
        <h3 class="event-card-title">@Model.EventName</h3>
        <p class="event-card-description">@Model.Description</p>
        <div class="event-card-meta">
            <span><i class="fas fa-calendar"></i> @Model.EventDate.ToString("yyyy-MM-dd")</span>
            <span><i class="fas fa-clock"></i> @Model.EventTime.ToString(@"hh\:mm")</span>
        </div>
        <div class="event-card-tickets">
            <div class="ticket-progress">
                <span>@Model.TicketsSold / @Model.Capacity tickets</span>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: @(Model.Capacity > 0 ? (Model.TicketsSold * 100) / Model.Capacity : 0)%"></div>
                </div>
            </div>
            @if (Model.TicketCategories != null && Model.TicketCategories.Any())
            {
                <span class="ticket-price">$@Model.TicketCategories.First().Price</span>
            }
            else
            {
                <span class="ticket-price">Price TBD</span>
            }
        </div>
        <a href="@Url.Action("Details", "Events", new { id = Model.EventId })" class="btn btn-primary">View Details</a>
    </div>
</div>
